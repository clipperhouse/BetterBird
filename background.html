<html>
  <script>
    //React when a browser action's icon is clicked.
    chrome.browserAction.onClicked.addListener(function(tab) {
    	chrome.tabs.query({ url : "*://twitter.com/*" }, function (tabs) {
    		var tabid;
    		if (tabs.length) {
    			tabid = tabs[0].id;
    			chrome.tabs.update(tabid, { active: true });
    			chrome.tabs.sendRequest(tabid, "go-home");
    		} else {
	    		chrome.tabs.create({ url : "http://twitter.com" }, function(tab) {
	    			tabid = tab.id;
	    		});
			}
    	});
    });
  </script>
</html>